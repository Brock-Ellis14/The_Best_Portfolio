[
  {
    "objectID": "story_telling.html",
    "href": "story_telling.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Story Telling"
    ]
  },
  {
    "objectID": "story_telling.html#title-2-header",
    "href": "story_telling.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Story Telling"
    ]
  },
  {
    "objectID": "Story_Telling/project2.html",
    "href": "Story_Telling/project2.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Story Telling",
      "Project 2"
    ]
  },
  {
    "objectID": "resume.html",
    "href": "resume.html",
    "title": "Resume",
    "section": "",
    "text": "Data Science Major, AI Engineering Minor, Statistics Minor\n\nbrockalvin14@gmail.com | My wikipedia page\n\n\n\nFinishing my last year of my Bachelors at BYU-Idaho. Expecting to graduate by the end of 2026.\n\n\nBayesian Stats, Time Series, ML engineering and ML ops.\n\n\n\n\n2015-2019 Zillah High School.\nHonors Diploma 3.85 GPA\n2024 - now Brigham Young University 3.9 Career Specific GPA\n\n\n\nJan 2023- Sept 2024 KeyBank, Yakima WA\n\nPrivate Client Banker\nSearcehd for and Discovered Opportunities to invest and plan with a Financial Advisor"
  },
  {
    "objectID": "resume.html#currently",
    "href": "resume.html#currently",
    "title": "Resume",
    "section": "",
    "text": "Finishing my last year of my Bachelors at BYU-Idaho. Expecting to graduate by the end of 2026.\n\n\nBayesian Stats, Time Series, ML engineering and ML ops."
  },
  {
    "objectID": "resume.html#education",
    "href": "resume.html#education",
    "title": "Resume",
    "section": "",
    "text": "2015-2019 Zillah High School.\nHonors Diploma 3.85 GPA\n2024 - now Brigham Young University 3.9 Career Specific GPA"
  },
  {
    "objectID": "resume.html#awards",
    "href": "resume.html#awards",
    "title": "Isaac Newtons’s CV",
    "section": "",
    "text": "2012 President, Royal Society, London, UK\nAssociate, French Academy of Science, Paris, France"
  },
  {
    "objectID": "resume.html#publications",
    "href": "resume.html#publications",
    "title": "Isaac Newtons’s CV",
    "section": "",
    "text": "1669 Newton Sir I, De analysi per æquationes numero terminorum infinitas.\n1669 Lectiones opticæ.\netc. etc. etc.\n\n\n\n2012 Infinitesimal calculus for solutions to physics problems, SMBC patent 001"
  },
  {
    "objectID": "resume.html#occupation",
    "href": "resume.html#occupation",
    "title": "Isaac Newtons’s CV",
    "section": "",
    "text": "1600 Royal Mint, London\n\nWarden\nMinted coins\n\n1600 Lucasian professor of Mathematics, Cambridge University"
  },
  {
    "objectID": "Machine_Learning/project3.html",
    "href": "Machine_Learning/project3.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Machine Learning",
      "Project 3"
    ]
  },
  {
    "objectID": "Machine_Learning/project1.html",
    "href": "Machine_Learning/project1.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Machine Learning",
      "Project 1"
    ]
  },
  {
    "objectID": "full_stack.html",
    "href": "full_stack.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Full Stack"
    ]
  },
  {
    "objectID": "full_stack.html#title-2-header",
    "href": "full_stack.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Full Stack"
    ]
  },
  {
    "objectID": "Full_Stack/project1.html",
    "href": "Full_Stack/project1.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Full Stack",
      "Project 1"
    ]
  },
  {
    "objectID": "competition.html",
    "href": "competition.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Competitions",
      "Competition"
    ]
  },
  {
    "objectID": "competition.html#title-2-header",
    "href": "competition.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Competitions",
      "Competition"
    ]
  },
  {
    "objectID": "Competition/project2.html",
    "href": "Competition/project2.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Competitions",
      "Project 2"
    ]
  },
  {
    "objectID": "Cleansing_Projects/project3.html",
    "href": "Cleansing_Projects/project3.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Data Cleansing",
      "Project 3"
    ]
  },
  {
    "objectID": "Cleansing_Projects/project1.html",
    "href": "Cleansing_Projects/project1.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Data Cleansing",
      "Project 1"
    ]
  },
  {
    "objectID": "Cleansing_Exploration/project2.html",
    "href": "Cleansing_Exploration/project2.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Data Exploration",
      "Project 2"
    ]
  },
  {
    "objectID": "cleansing.html",
    "href": "cleansing.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Data Cleansing"
    ]
  },
  {
    "objectID": "cleansing.html#title-2-header",
    "href": "cleansing.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Data Cleansing"
    ]
  },
  {
    "objectID": "Cleansing_Exploration/project1.html",
    "href": "Cleansing_Exploration/project1.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Data Exploration",
      "Project 1"
    ]
  },
  {
    "objectID": "Cleansing_Exploration/project3.html",
    "href": "Cleansing_Exploration/project3.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Data Exploration",
      "Project 3"
    ]
  },
  {
    "objectID": "Cleansing_Projects/project2.html",
    "href": "Cleansing_Projects/project2.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Data Cleansing",
      "Project 2"
    ]
  },
  {
    "objectID": "Competition/project1.html",
    "href": "Competition/project1.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Competitions",
      "Project 1"
    ]
  },
  {
    "objectID": "Competition/project3.html",
    "href": "Competition/project3.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Competitions",
      "Project 3"
    ]
  },
  {
    "objectID": "exploration.html",
    "href": "exploration.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Data Exploration"
    ]
  },
  {
    "objectID": "exploration.html#title-2-header",
    "href": "exploration.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Data Exploration"
    ]
  },
  {
    "objectID": "Full_Stack/project2.html",
    "href": "Full_Stack/project2.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Full Stack",
      "Project 2"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics"
  },
  {
    "objectID": "index.html#title-2-header",
    "href": "index.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics"
  },
  {
    "objectID": "Machine_Learning/project2.html",
    "href": "Machine_Learning/project2.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Machine Learning",
      "Project 2"
    ]
  },
  {
    "objectID": "ml.html",
    "href": "ml.html",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Machine Learning"
    ]
  },
  {
    "objectID": "ml.html#title-2-header",
    "href": "ml.html#title-2-header",
    "title": "about me",
    "section": "",
    "text": "MarkDown Basics",
    "crumbs": [
      "Machine Learning"
    ]
  },
  {
    "objectID": "Story_Telling/project1.html",
    "href": "Story_Telling/project1.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Story Telling",
      "Project 1"
    ]
  },
  {
    "objectID": "Story_Telling/project3.html",
    "href": "Story_Telling/project3.html",
    "title": "Client Report - [Insert Project Title]",
    "section": "",
    "text": "Paste in a template\n\n\n\n\n Back to top",
    "crumbs": [
      "Story Telling",
      "Project 3"
    ]
  },
  {
    "objectID": "resume.html#experience",
    "href": "resume.html#experience",
    "title": "Resume",
    "section": "",
    "text": "Jan 2023- Sept 2024 KeyBank, Yakima WA\n\nPrivate Client Banker\nSearcehd for and Discovered Opportunities to invest and plan with a Financial Advisor"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#maximum-drawdown-comparison",
    "href": "Cleansing_Projects/Covid_GFC.html#maximum-drawdown-comparison",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Maximum Drawdown Comparison",
    "text": "Maximum Drawdown Comparison\nThis chart highlights a clear difference in the severity and breadth of losses across sectors during the two crises. The Financial Crisis (blue bars) produced consistently deeper maximum drawdowns across every sector, with many experiencing losses in the 40–70% range, underscoring the systemic and prolonged nature of the shock. Sectors such as Financials, Real Estate, Materials, and Industrials were especially hard hit, reflecting the crisis’s roots in the financial system and its spillover into the real economy.\nIn contrast, the COVID-19 Crisis (green bars) resulted in shallower maximum drawdowns overall, generally between 10–45%, and showed greater dispersion across sectors. Defensive sectors like Communication Services and Health Care were relatively resilient, while cyclicals such as Energy and Consumer Discretionary saw larger declines. Together, the comparison illustrates that while COVID-19 triggered a sharp and sudden sell-off, the Global Financial Crisis imposed deeper, more uniform damage across the market, revealing far greater systemic vulnerability.\n\n\nCode\n# Max Drawdown Bar Chart\nggplot(sector_performance_combined, aes(x = symbol, y = Max_Drawdown, fill = Crisis)) +\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.8), width = 0.7) +\n  labs(\n    title = \"Sector Vulnerability: Maximum Drawdown Comparison\",\n    subtitle = \"Financial Crisis (Aug '07 - Jun '09) vs. COVID-19 Crisis (Feb '20 - Sep '21)\",\n    x = \"Sector ETF Ticker\",\n    y = \"Maximum Drawdown (%)\",\n    fill = \"Crisis Period\"\n  ) +\n  scale_y_continuous(labels = function(x) paste0(x, \"%\")) +\n  scale_fill_manual(values = c(\"Financial Crisis\" = \"steelblue\", \"COVID-19 Crisis\" = \"forestgreen\")) +\n  theme_minimal(base_size = 14) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#risk-return-profile",
    "href": "Cleansing_Projects/Covid_GFC.html#risk-return-profile",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Risk-Return Profile",
    "text": "Risk-Return Profile\nThis scatter plot highlights a clear shift in sector risk–return dynamics between the two crises. During the Financial Crisis (blue triangles), nearly all sectors lie in the negative-return region, with elevated volatility and especially severe outcomes for Financials and Real Estate. This clustering reflects the prolonged, systemic nature of the GFC, where higher risk was consistently paired with worse returns.\nIn contrast, the COVID-19 Crisis (green circles) shows an upward shift in returns and greater cross-sector dispersion. Most sectors achieved positive mean monthly returns despite moderate volatility, indicating a rapid recovery. Technology and Communication Services exhibit strong returns with relatively lower risk, while Energy stands out as a high-volatility outlier. Overall, the chart underscores the persistent damage of the GFC versus the short-lived but volatile shock of COVID-19.\n\n\nCode\n# Risk/Return Scatter Plot\nggplot(sector_performance_combined, aes(x = Std_Dev, y = Mean_Return, color = Crisis)) + \n  geom_text(\n    aes(label = symbol),\n    size = 3,\n    color=\"black\",\n    nudge_x = 0.00325, # to right\n    nudge_y = 0.003 # up\n  ) +\n  geom_point(aes(shape = Crisis), size = 4) +\n  labs(\n    title = \"Risk-Return Profile by Sector During Crisis Periods\",\n    subtitle = \"Monthly Mean Log Return vs. Monthly Standard Deviation (Volatility)\",\n    x = \"Risk (Standard Deviation of Monthly Log Returns)\",\n    y = \"Return (Mean Monthly Log Return)\",\n    color = \"Crisis Period\",\n    shape = \"Crisis Period\"\n  ) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"black\", alpha = 0.3) +\n  scale_x_continuous(labels = percent) +\n  scale_y_continuous(labels = percent) +\n  scale_color_manual(values = c(\"Financial Crisis\" = \"steelblue\", \"COVID-19 Crisis\" = \"forestgreen\")) +\n  theme_minimal(base_size = 14) +\n  theme(legend.position = \"bottom\", plot.title = element_text(face = \"bold\"))"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#labor-markets-and-monetary-policy",
    "href": "Cleansing_Projects/Covid_GFC.html#labor-markets-and-monetary-policy",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Labor Markets and Monetary Policy",
    "text": "Labor Markets and Monetary Policy\nThis chart contrasts labor market dynamics and monetary policy across the two crises. During the Financial Crisis (gray shading), the labor market deteriorates gradually: the unemployment rate rises steadily to above 10%, while payroll growth declines into negative territory and remains weak for several years. This slow erosion reflects the prolonged fallout from the housing and credit collapse.\nIn contrast, the COVID-19 shock (green shading) is marked by an abrupt, unprecedented break. Unemployment spikes almost instantly to over 14%, and payroll growth collapses to nearly −15% in a single month, capturing the sudden halt caused by lockdowns. The Fed Funds Rate highlights the policy difference: rates were cut progressively during the GFC, whereas they were already near zero before COVID, forcing an immediate emergency response to stabilize the economy.\n\n\nCode\n# Key US Economic Indicators (Unemployment, Fed Funds, Year-over-Year Payrolls)\ndy_graph1_data &lt;- fred_data_analysis %&gt;%\n  select(date, UNRATE_Level, FEDFUNDS_Level, PAYEMS_YoY) %&gt;%\n  drop_na() \n\nfred_data_xts1 &lt;- xts(\n  x = dy_graph1_data %&gt;% select(-date),\n  order.by = dy_graph1_data$date\n)\n\ntrans_steelblue &lt;- rgb(70/255, 130/255, 180/255, alpha = 0.2)\ntrans_forestgreen &lt;- rgb(34/255, 139/255, 34/255, alpha = 0.2)\n\ndygraph(fred_data_xts1, main = \"Key US Economic Indicators (2000-Present): Labor and Policy\") %&gt;% \n  dyRangeSelector() %&gt;% \n  dyShading(from = \"2007-12-01\", to = \"2009-06-30\", color = trans_steelblue, axis = \"x\") %&gt;%\n  dyShading(from = \"2020-02-01\", to = \"2021-04-30\", color = trans_forestgreen, axis = \"x\") %&gt;%\n  dyLegend(show = \"always\", width = 300) %&gt;%\n  dySeries(\"UNRATE_Level\", label = \"Unemployment Rate (%)\") %&gt;%\n  dySeries(\"FEDFUNDS_Level\", label = \"Fed Funds Rate (%)\") %&gt;%\n  dySeries(\"PAYEMS_YoY\", label = \"Payroll Growth (YoY %)\")"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#consumer-sentiment-and-inflation-dynamics",
    "href": "Cleansing_Projects/Covid_GFC.html#consumer-sentiment-and-inflation-dynamics",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Consumer Sentiment and Inflation Dynamics",
    "text": "Consumer Sentiment and Inflation Dynamics\nThis chart compares consumer sentiment and inflation across the two crisis periods. The Consumer Sentiment Index (green line) declines sharply in both episodes, but the pattern differs: during the Financial Crisis (gray shading), sentiment falls deeply and recovers only gradually over several years, while during the COVID-19 shock (green shading), sentiment drops abruptly from elevated levels, reflecting the sudden uncertainty triggered by the pandemic. In both cases, consumer confidence deteriorates significantly, though the COVID decline is more immediate.\nThe key distinction emerges in CPI inflation (blue line). During the Financial Crisis, inflation trends downward and briefly turns negative, signaling deflationary pressure from collapsing demand. In contrast, during and after the COVID-19 shock, inflation remains positive and subsequently accelerates, driven by supply disruptions and unprecedented fiscal and monetary stimulus. This divergence underscores the fundamentally different economic mechanisms behind the two crises: a demand-driven financial collapse versus a shock combining supply constraints with aggressive policy intervention.\n\n\nCode\n# Key US Economic Indicators (Consumer Sentiment, CPI YoY)\ndy_graph2_data &lt;- fred_data_analysis %&gt;%\n  select(date, UMCSENT_Level, CPIAUCSL_YoY) %&gt;%\n  drop_na()\n\nfred_data_xts2 &lt;- xts(\n  x = dy_graph2_data %&gt;% select(-date),\n  order.by = dy_graph2_data$date\n)\n\ndygraph(fred_data_xts2, main = \"Key US Economic Indicators (2000-Present): Sentiment and Inflation\") %&gt;% \n  dyRangeSelector() %&gt;% \n  dyShading(from = \"2007-12-01\", to = \"2009-06-30\", color = trans_steelblue, axis = \"x\") %&gt;% \n  dyShading(from = \"2020-02-01\", to = \"2021-04-30\", color = trans_forestgreen, axis = \"x\") %&gt;% \n  dyLegend(show = \"always\", width = 300) %&gt;%\n  dySeries(\"UMCSENT_Level\", label = \"Consumer Sentiment Index\") %&gt;%\n  dySeries(\"CPIAUCSL_YoY\", label = \"CPI Inflation (YoY %)\")"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#energy-sector-vs.-global-indicators",
    "href": "Cleansing_Projects/Covid_GFC.html#energy-sector-vs.-global-indicators",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Energy Sector vs. Global Indicators",
    "text": "Energy Sector vs. Global Indicators\nThis time-series plot illustrates the relationship between the energy sector and key global indicators, all indexed to 1.0 in 2005. Crude oil prices (red line) exhibit large cyclical swings, surging prior to the Financial Crisis and collapsing sharply during the 2008–2009 period (gray shading). The energy sector ETF (XLE) closely tracks these movements, declining alongside oil as demand weakened, highlighting the sector’s strong dependence on commodity prices.\nDuring the COVID-19 shock (green shading), oil prices experience an abrupt and unusually deep collapse, while XLE also falls sharply before recovering, underscoring the severity of the demand shock. By contrast, the EUR/USD exchange rate (blue line) remains comparatively stable and often moves independently of oil and XLE, reinforcing that energy sector performance is driven primarily by global commodity dynamics rather than currency fluctuations alone.\n\n\nCode\n# Filter Sector Data to XLE and calculate cumulative simple returns\nxle_cum_returns &lt;- data %&gt;%\n  filter(symbol == \"XLE\") %&gt;%\n  select(date, adjusted) %&gt;%\n  tq_mutate(\n    select = adjusted,\n    mutate_fun = ROC, \n    type = \"discrete\",\n    col_rename = \"daily_return\" \n  ) %&gt;%\n  mutate(\n    XLE_Cumulative_Return = cumprod(1 + daily_return)\n  ) %&gt;%\n  select(date, XLE_Cumulative_Return)\n\nmacro_plot_data &lt;- fred_data_wide %&gt;%\n  select(date, WTISPLC, DEXUSEU) %&gt;%\n  drop_na() %&gt;%\n  mutate(\n    WTISPLC_Index = WTISPLC / first(WTISPLC),\n    DEXUSEU_Index = DEXUSEU / first(DEXUSEU)\n  )\n\n# date is between 2005-01-01 and covids end\ncombined_index_data &lt;- xle_cum_returns %&gt;%\n  inner_join(macro_plot_data, by = \"date\") %&gt;%\n  filter(\n    date &gt;= as.Date(\"2005-01-01\") & date &lt;= as.Date(\"2021-12-31\")\n  ) %&gt;%\n  pivot_longer(\n    cols = ends_with(\"_Index\") | ends_with(\"Return\"),\n    names_to = \"Series\",\n    values_to = \"Index_Value\"\n  ) %&gt;%\n  group_by(Series) %&gt;%\n  mutate(Index_Value = Index_Value / first(Index_Value))\n\n# 4. Plot the comparison\nggplot(combined_index_data, aes(x = date, y = Index_Value, color = Series)) +\n  geom_line(linewidth = 1) +\n  labs(\n    title = \"Energy Sector (XLE) vs. Global Indicators\",\n    subtitle = \"Indexed Performance Across Two Crises (Index Value = 1.0 on 2005-01-01)\",\n    x = \"Date\",\n    y = \"Indexed Value (Relative to 2005-01-01)\",\n    color = \"Series\"\n  ) +\n  scale_y_continuous(labels = dollar) +\n  scale_color_manual(\n    values = c(\"XLE_Cumulative_Return\" = \"#2ecc71\", \"WTISPLC_Index\" = \"#e74c3c\", \"DEXUSEU_Index\" = \"#3498db\"),\n    labels = c(\"XLE_Cumulative_Return\" = \"XLE Sector ETF\", \"WTISPLC_Index\" = \"Crude Oil Price\", \"DEXUSEU_Index\" = \"EUR/USD Rate\")\n  ) +\n  theme_minimal(base_size = 14) +\n  annotate(\"rect\", xmin = as.Date(\"2007-12-01\"), xmax = as.Date(\"2009-06-30\"), ymin = -Inf, ymax = Inf, alpha = 0.1, fill = \"steelblue\", alpha=.95) +\n  annotate(\"rect\", xmin = as.Date(\"2020-02-01\"), xmax = as.Date(\"2021-04-30\"), ymin = -Inf, ymax = Inf, alpha = 0.1, fill = \"forestgreen\", alpha=.95) +\n  theme(legend.position = \"bottom\", plot.title = element_text(face = \"bold\"))"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#distribution-of-monthly-sector-returns",
    "href": "Cleansing_Projects/Covid_GFC.html#distribution-of-monthly-sector-returns",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Distribution of Monthly Sector Returns",
    "text": "Distribution of Monthly Sector Returns\nThis boxplot compares the distribution of monthly sector returns across the two crises, highlighting differences in median performance, volatility, and tail risk. During the Financial Crisis (blue boxes), most sectors display lower medians and wider interquartile ranges, indicating sustained negative pressure and elevated volatility—most notably in Financials, Real Estate, Industrials, and Energy. The frequent and deep negative outliers reflect the prolonged and systemic nature of losses during the GFC.\nIn contrast, the COVID-19 Shock (green boxes) generally shows medians closer to zero or slightly positive with somewhat tighter central ranges, but with pronounced tail risk, particularly in Energy and Real Estate. Technology stands out in both periods with a relatively narrow, stable distribution centered near zero, underscoring its comparative resilience. Overall, the chart suggests the GFC was characterized by persistent downside risk, while COVID produced sharper, more episodic extreme moves.\n\n\nCode\n# Filter and label monthly returns\nfinancial_start &lt;- as.Date(\"2007-12-01\")\nfinancial_end &lt;- as.Date(\"2009-06-30\")\ncovid_start &lt;- as.Date(\"2020-02-01\")\ncovid_end &lt;- as.Date(\"2021-09-30\")\n\ncrisis_returns_filtered &lt;- sector_returns_monthly %&gt;%\n  filter(\n    (date &gt;= financial_start & date &lt;= financial_end) |\n    (date &gt;= covid_start & date &lt;= covid_end)\n  ) %&gt;%\n  mutate(\n    Crisis = case_when(\n      date &gt;= financial_start & date &lt;= financial_end ~ \"A - Financial Crisis\",\n      date &gt;= covid_start & date &lt;= covid_end ~ \"B - COVID-19 Shock\",\n      .default = \"Other\"\n    )\n  )\n\nggplot(crisis_returns_filtered, aes(x = symbol, y = monthly_log_return, fill = Crisis)) +\n  geom_boxplot(position = position_dodge(width = 0.8), outlier.alpha = 0.5) +\n  labs(\n    title = \"Distribution of Monthly Sector Returns During Crisis Periods\",\n    subtitle = \"Comparing Volatility, Median, and Tail Risk (Outliers) Between Crises\",\n    x = \"Sector ETF Ticker\",\n    y = \"Monthly Log Return\",\n    fill = \"Crisis Period\"\n  ) +\n  scale_y_continuous(labels = percent) +\n  scale_fill_manual(values = c(\"A - Financial Crisis\" = \"steelblue\", \"B - COVID-19 Shock\" = \"forestgreen\")) +\n  theme_minimal(base_size = 14) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#portfolio-diversification-effects",
    "href": "Cleansing_Projects/Covid_GFC.html#portfolio-diversification-effects",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Portfolio Diversification Effects",
    "text": "Portfolio Diversification Effects\nFinally, we assess how crisis conditions affected portfolio diversification through cross-sector correlations. This analysis reveals critical differences in the effectiveness of diversification strategies during each crisis period.\n\nSector Correlation Heatmaps\nThis heatmap visualizes how sector diversification deteriorates during periods of market stress. During the Financial Crisis (Panel A), correlations are elevated but heterogeneous, with many sector pairs falling in the 0.60–0.85 range, indicating that diversification weakened but did not disappear entirely. Notably, Financials retain comparatively lower correlations with sectors such as Communication Services and Energy, suggesting limited but meaningful diversification remained during the GFC.\nIn contrast, the COVID-19 Shock (Panel B) displays a much more uniform and elevated correlation structure, with most sector pairings clustering around 0.80–0.95. This convergence reflects a rapid “risk-on/risk-off” regime in which sector-specific fundamentals mattered far less. Overall, the comparison shows that while both crises reduced diversification, COVID-19 produced a sharper and more synchronized correlation spike, rendering diversification far less effective during the acute phase of the shock.\n\n\nCode\n# Function to prepare data for correlation calculation and plotting\nprepare_correlation_data &lt;- function(start_date, end_date, crisis_name) {\n  crisis_returns_filtered &lt;- sector_returns_monthly %&gt;%\n    filter(date &gt;= as.Date(start_date) & date &lt;= as.Date(end_date)) %&gt;%\n    drop_na()\n  \n  returns_xts &lt;- crisis_returns_filtered %&gt;%\n    pivot_wider(names_from = symbol, values_from = monthly_log_return) %&gt;%\n    column_to_rownames(var = \"date\") %&gt;%\n    as.matrix() %&gt;%\n    as.xts()\n  \n  cor_matrix &lt;- cor(returns_xts)\n  \n  cor_long &lt;- cor_matrix %&gt;%\n    as.data.frame() %&gt;%\n    rownames_to_column(var = \"Sector_X\") %&gt;%\n    pivot_longer(cols = -Sector_X, names_to = \"Sector_Y\", values_to = \"Correlation\") %&gt;%\n    mutate(Crisis = crisis_name)\n  \n  return(cor_long)\n}\n\n# Calculate correlation for BORHT crises\ncor_gfc &lt;- prepare_correlation_data(\n  crisis_periods$Financial[1], \n  crisis_periods$Financial[2], \n  \"A - Financial Crisis\"\n)\n\ncor_covid &lt;- prepare_correlation_data(\n  crisis_periods$COVID[1], \n  crisis_periods$COVID[2], \n  \"B - COVID-19 Shock\"\n)\n\n# Combine the two correlation tibbles for a side-by-side\ncor_combined &lt;- bind_rows(cor_gfc, cor_covid)\n\n\nggplot(cor_combined, aes(x = Sector_X, y = Sector_Y, fill = Correlation)) +\n  geom_tile(color = \"white\") +\n  geom_text(aes(label = round(Correlation, 2)), color = \"black\", size = 3) +\n  facet_wrap(~ Crisis) +\n  labs(\n    title = \"Sector Correlation Heatmaps During Crisis Periods\",\n    subtitle = \"Visualizing the Breakdown of Diversification\",\n    x = \"\",\n    y = \"\",\n    fill = \"Correlation\"\n  ) +\n  scale_fill_gradient2(\n    low = \"blue\", \n    mid = \"white\",\n    high = \"#e74c3c\", \n    midpoint = 0.5,\n    limit = c(min(cor_combined$Correlation), 1)\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    axis.text.x = element_text(angle = 90, vjust = 1, hjust = 1),\n    panel.grid.major = element_blank()\n  )"
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html#summary-sector-economic-insights-from-the-crises",
    "href": "Cleansing_Projects/Covid_GFC.html#summary-sector-economic-insights-from-the-crises",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "Summary: Sector & Economic Insights from the Crises",
    "text": "Summary: Sector & Economic Insights from the Crises\nThis analysis compares how U.S. equity sectors and key macroeconomic indicators responded to the Global Financial Crisis (2007–2009) and the COVID-19 shock (2020). While both episodes generated severe market stress, they differed fundamentally in speed, transmission mechanism, and market structure.\nGlobal Financial Crisis (GFC): The GFC unfolded as a slow, prolonged systemic collapse, lasting well over a year. As shown in the maximum drawdown and risk-return charts, sector drawdowns were deep and persistent, and mean monthly returns remained broadly negative across the market. Elevated volatility was accompanied by sustained downside pressure, reflecting the underlying debt, housing, and credit failures that gradually eroded economic activity.\nCOVID-19 Shock: By contrast, the COVID-19 episode was an abrupt, high-intensity shock. Markets experienced rapid drawdowns over a very short window, extreme volatility, and sharply dispersed sector outcomes. While losses were severe, they were followed by a faster rebound, producing less persistently negative average returns than during the GFC.\nMacroeconomic Drivers: The GFC was distinctly deflationary, with falling CPI and a slow deterioration in labor markets—hallmarks of a demand-driven financial recession. The COVID-19 shock, however, triggered an immediate labor market collapse, and massive fiscal and monetary intervention quickly reignited inflationary pressures, reflecting a combined supply shock and policy response.\nDiversification and Correlation: A key structural difference lies in cross-sector correlations. During the GFC, correlations rose but remained heterogeneous, preserving limited diversification benefits. During COVID-19, correlations spiked sharply and uniformly, producing an almost impossible diversification regime in which diversification temporarily failed—as evidenced by the correlation heatmaps showing values consistently above 0.80.\nOverall: Together, the results show that the GFC was a long-duration systemic crisis marked by persistent weakness, while the COVID-19 shock was a short-lived but highly synchronized event. The latter’s sudden correlation surge posed a distinct and severe challenge to portfolio risk management, despite its faster economic recovery."
  },
  {
    "objectID": "Cleansing_Projects/Covid_GFC.html",
    "href": "Cleansing_Projects/Covid_GFC.html",
    "title": "Financial Crisis vs COVID Crisis",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(tidyquant)\nlibrary(scales)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(ggrepel)\n\n\n\n\nCode\n# Define tickers and FRED series\ntickers &lt;- c(\"XLK\", \"VFH\", \"XLV\", \"XLY\", \"XLP\", \"XLI\", \"XLE\", \"XLB\", \"IXJ\", \"XLU\", \"VNQ\")\nfred_series &lt;- c(\n  \"UNRATE\", \"FEDFUNDS\", \"PAYEMS\", \"CPIAUCSL\", \"INDPRO\", \"PERMIT\", \"M2SL\", \"GS1\", \"UMCSENT\"\n)\n\n# Get Stock Data\ndata &lt;- tq_get(tickers, get = \"stock.prices\", from = \"2000-01-01\")\n\n# Get FRED Data\nfred_data_long &lt;- tq_get(\n  fred_series,\n  get = \"economic.data\",\n  from = \"2000-01-01\"\n)\n\n# Convert FRED data to wide format\nfred_data_wide &lt;- fred_data_long %&gt;%\n  pivot_wider(\n    names_from = symbol,\n    values_from = price\n  )\n\n\n\n\nCode\n# Key Global Indicators: US Dollar Index (DEXUSEU) and Crude Oil (WTISPLC)\n# DEXUSEU is EUR/USD, and WTISPLC is WTI Spot Price.\nglobal_tickers &lt;- c(\"DEXUSEU\", \"WTISPLC\")\n\nglobal_data_long &lt;- tq_get(\n  global_tickers,\n  get = \"economic.data\", \n  from = \"2000-01-01\"\n)\n\nglobal_data_wide &lt;- global_data_long %&gt;%\n  pivot_wider(\n    names_from = symbol,\n    values_from = price\n  )\n\n# Combine FRED and Global Data for a comprehensive macro dataset\nmacro_data_wide &lt;- fred_data_wide %&gt;%\n  left_join(global_data_wide, by = \"date\")\n\n# Replace the old fred_data_wide with the new macro_data_wide for later steps\nfred_data_wide &lt;- macro_data_wide\n\n\n\n\nCode\n# Calculate Monthly Log Returns\nsector_returns_monthly &lt;- data %&gt;%\n  group_by(symbol) %&gt;%\n  tq_transmute(\n    select = adjusted,\n    mutate_fun = periodReturn,\n    period = \"monthly\", \n    type = \"log\" # Log returns for statistical analysis\n  ) %&gt;%\n  rename(monthly_log_return = monthly.returns)\n\n# Define the Ticker-to-Sector Mapping\nsector_map &lt;- c(\n \"XLK\" = \"Technology\",\n \"VFH\" = \"XL_Financials\",\n \"XLV\" = \"Health Care\",\n \"XLY\" = \"Consumer Discretionary\",\n \"XLP\" = \"Consumer Staples\",\n \"XLI\" = \"Industrials\",\n \"XLE\" = \"Energy\",\n \"XLB\" = \"Materials\",\n \"IXJ\" = \"Communication Services\",\n \"XLU\" = \"Utilities\",\n \"VNQ\" = \"Real Estate\"\n)\n\n# Calculate Monthly Log Returns, using the full Sector Name\nsector_returns_monthly &lt;- data %&gt;%\n  # Apply the mapping to the 'symbol' column\n  mutate(symbol = sector_map[symbol]) %&gt;%\n  group_by(symbol) %&gt;%\n  tq_transmute(\n    select = adjusted,\n    mutate_fun = periodReturn,\n    period = \"monthly\",\n    type = \"log\"\n  ) %&gt;%\n  rename(monthly_log_return = monthly.returns)\n\n\n# Calculate Year-over-Year (YoY) Change for economic indicators\nfred_data_analysis &lt;- fred_data_wide %&gt;%\n  mutate(\n    PAYEMS_YoY = (PAYEMS / lag(PAYEMS, 12) - 1) * 100,\n    CPIAUCSL_YoY = (CPIAUCSL / lag(CPIAUCSL, 12) - 1) * 100,\n    UNRATE_Level = UNRATE,\n    FEDFUNDS_Level = FEDFUNDS,\n    UMCSENT_Level = UMCSENT\n  ) %&gt;%\n  select(date, UNRATE_Level, FEDFUNDS_Level, PAYEMS_YoY, CPIAUCSL_YoY, UMCSENT_Level)\n\n\n\n\nCode\n# Define the exact crisis periods\ncrisis_periods &lt;- list(\n  Financial = c(\"2007-09-01\", \"2009-06-30\"), \n  COVID     = c(\"2020-02-01\", \"2021-09-30\")  \n)\n\n# Function to calculate performance metrics\ncalculate_crisis_performance &lt;- function(data, start_date, end_date) {\n  \n  # Filter and prepare data for nesting\n  crisis_data &lt;- data %&gt;%\n    filter(date &gt;= as.Date(start_date) & date &lt;= as.Date(end_date)) %&gt;%\n    # Convert monthly log returns to simple returns (DO NOT MES WITH THIS)\n    mutate(simple_return = exp(monthly_log_return) - 1) %&gt;%\n    select(date, symbol, simple_return)\n  \n  # SNest the data by symbol\n  nested_data &lt;- crisis_data %&gt;%\n    group_by(symbol) %&gt;%\n    nest() \n\n  # Run the calculation using map_dbl (return as type double)\n  performance_metrics &lt;- nested_data %&gt;%\n    mutate(\n      Mean_Return = map_dbl(data, ~ mean(log(.x$simple_return + 1), na.rm = TRUE)),\n      Std_Dev = map_dbl(data, ~ sd(log(.x$simple_return + 1), na.rm = TRUE)),\n      \n      # convrt the nested tibble to an xts object BEFORE!!!! calculating maxDrawdown\n      Max_Drawdown = map_dbl(data, function(df) {\n        returns_xts &lt;- xts(x = df$simple_return, order.by = df$date)\n        \n        return(maxDrawdown(returns_xts) * 100)\n      })\n    ) %&gt;%\n    select(symbol, Mean_Return, Std_Dev, Max_Drawdown)\n  \n  return(performance_metrics)\n}\n  \n\n# Apply the function to both crises and combine results\nsector_performance_combined &lt;- bind_rows(\n  calculate_crisis_performance(sector_returns_monthly, crisis_periods$Financial[1], crisis_periods$Financial[2]) %&gt;%\n    mutate(Crisis = \"Financial Crisis\"),\n  calculate_crisis_performance(sector_returns_monthly, crisis_periods$COVID[1], crisis_periods$COVID[2]) %&gt;%\n    mutate(Crisis = \"COVID-19 Crisis\")\n)"
  }
]